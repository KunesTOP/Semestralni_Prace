@{
    ViewData["Title"] = "Database Viewer";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <style>
        body {
            background-color: Azure;
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        select, button {
            margin-top: 20px;
        }

        /* Context menu styles */
        .context-menu {
            display: none;
            position: absolute;
            background-color: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .context-menu-item {
            padding: 8px;
            cursor: pointer;
        }

            .context-menu-item:hover {
                background-color: #f2f2f2;
            }
    </style>
</head>
<body>
    <h2>@ViewData["Title"]</h2>

    <label for="tableName">Select Table:</label>
    <select id="tableName">
        <!-- TODO: Přidat názvy tabulek -->
        <option value="Table1">Table1</option>
        <option value="Table2">Table2</option>
    </select>

    <button id="btnLoadTable">Load Table</button>

    <table id="data-table">
        <!-- Table content will be dynamically generated here -->
    </table>

    <!-- Context menu for right-click actions -->
    <div id="context-menu" class="context-menu">
        <div class="context-menu-item" onclick="editRow()">Edit Row</div>
        <div class="context-menu-item" onclick="deleteRow()">Delete Row</div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            // Attach context menu to the data table
            $('#data-table').on('contextmenu', 'tr', function (e) {
                e.preventDefault();
                showContextMenu(e.pageX, e.pageY);
            });

            // Hide context menu on document click
            $(document).on('click', function () {
                hideContextMenu();
            });

            // Load table on button click
            $('#btnLoadTable').on('click', function () {
                loadTable();
            });
        });

        function loadTable() {
            var tableName = $('#tableName').val();
            // Make an AJAX request to fetch data for the selected table
            // Populate the table dynamically based on the response
            // Example:
            // fetch(`/api/getdata?tableName=${tableName}`)
            //     .then(response => response.json())
            //     .then(data => {
            //         // Generate table rows and cells dynamically based on data
            //         // Update the innerHTML of the 'data-table' element
            //     });
        }

        function showContextMenu(x, y) {
            $('#context-menu').css({
                display: 'block',
                left: x,
                top: y
            });
        }

        function hideContextMenu() {
            $('#context-menu').css('display', 'none');
        }

        function editRow() {
            // Logic to edit the selected row
            hideContextMenu();
        }

        function deleteRow() {
            // Logic to delete the selected row
            hideContextMenu();
        }
    </script>
</body>
</html>
